<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script type="module" src="actions.js"></script>
    <title>Main</title>
  </head>
  <body onload="loadActions()">
    <h1>Actions Configuration</h1>
    <a href="index.html">Back</a>
    <button type="button" onclick="saveAll()">Save Actions</button>
    <p id="saveAllOutput"></p>
    <form name="actionSelect">
      <label>
        Create a new action or select an existing one:
        <select name="action" oninput="chooseAction()">
          <option value="none">Select an option</option>
          <option value="new">Create a new action</option>
        </select>
      </label>
    </form>
    <form name="actionModify" hidden>
      <button type="button" onclick="saveCurrentAction()">Save</button>
      <button type="button" onclick="deleteCurrentAction()">
        Delete currently selected action</button
      ><br />
      <label>
        Action ID:
        <input type="text" name="id" placeholder="No /, ? or #" />
      </label>
      <label>
        Action type:
        <select name="type" oninput="chooseType()">
          <option value="none">Select an option</option>
          <option value="single">Single</option>
          <option value="chain">Chain</option>
          <option value="condition">Condition</option>
        </select>
      </label>
    </form>
    <form name="chainAction" hidden>
      Action type to add to chain:
      <select name="type" oninput="chooseTypeChain()">
        <option value="none">Select an option</option>
        <option value="single">Single</option>
        <option value="condition">Condition</option>
      </select>
      <button type="button" onclick="addToEndOfChain()">Add to end</button>
      <ol id="chainActionList"></ol>
    </form>
    <form name="singleAction" hidden>
      <label>
        Plugin:
        <select name="plugin" oninput="choosePlugin()">
          <option value="none">Select an option</option>
          <option value="OBS">OBS</option>
          <option value="VTS">VTube Studio</option>
        </select>
      </label>
      <div id="obsTypeSelect" hidden>
        <label>
          OBS action type:
          <select name="typeObs" oninput="obsChooseType()">
            <option value="none">Select an option</option>
            <option value="ProgramSceneChange">Program Scene Change</option>
          </select>
        </label>
      </div>
      <div id="vtsTypeSelect" hidden>
        <p>
          Note that for the actions specific to a given model (for example
          toggling expressions) the model <strong>must</strong> be loaded in
          VTube Studio before making changes here.
        </p>
        <label>
          VTube Studio action type:
          <select name="typeVts" oninput="vtsChooseType()">
            <option value="none">Select an option</option>
            <option value="ToggleExpression">Toggle Expression</option>
            <option value="LoadModel">Load Model</option>
          </select>
        </label>
      </div>
      <div id="actionInputSelect" hidden>
        <label
          >Action parameter:
          <select name="inputSelect">
            <option value="none">Select an option</option>
          </select>
        </label>
      </div>
    </form>
  </body>
</html>
