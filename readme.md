# ScuffCommander (very WIP)

## Architecture
The server converts plain old HTTP requests to the WebSocket stuff used by OBS and VTube Studio, so all the frontend needs to do is send HTTP requests (currently it is as simple as opening `http://server:8080/click/1` to trigger the action with id "1" for example). It also generates the buttons to trigger the actions using the files in the `<conf>/templates` folder.

The configurator app uses the same code as the server to load the configuration files and communicate with OBS and VTube Studio, but does not expose its UI publicly like the server.

### Key libraries used
- actix-web (for the server)
- handlebars-rs (for the server to autogenerate the pages)
- tauri (for the configurator app)
- serde-json (to generate and parse the configuration files)
- obws (for OBS, only v28 supported due to using the v0.10 beta)
- vtubestudio-rs

## Compiling
1. Set up Rust (tested with 1.65)
2. Run `cargo build` in the `server` folder to compile the server
3. Run `cargo build` in the `configurator/src-tauri` folder to compile the configurator

## Configuring
See the `example_conf` folder for example configuration files.

## Running

### Server
1. Run `cargo run <conf>` in the `server` folder, where `<conf>` is the path to the folder with the files as seen in `example_conf`
2. Open `http://localhost:8080/` in a browser (may need to adjust depending on configuration)
3. See if the buttons work

Note: If the address used is `localhost` the server will not be accessible to any other devices, to allow other devices to connect use `0.0.0.0` instead.

### Configurator
Run `cargo run <conf>` in the `configurator/src-tauri` folder, where `<conf>` is the path to the folder with the files as seen in `example_conf` (although the JSON files will be generated by the configurator when saving if they are not present).
